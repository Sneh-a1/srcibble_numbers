{% extends 'digit/home.html' %}

{% block hero %}
<div class="quicksand-appfont min-h-screen bg-green-100 flex flex-col items-center justify-center px-6 py-8 relative">
    <a href="{% url 'home' %}" class="absolute top-6 left-6 px-4 py-2 bg-white text-green-600 rounded-lg shadow-md hover:bg-green-50 transition-colors flex items-center gap-2 font-semibold">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
            <path d="M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z" />
        </svg>
        Home
    </a>
    <div class="bg-white rounded-lg shadow-lg p-8 max-w-2xl w-full">
        <div class="text-2xl text-green-700 font-semibold mb-6 text-center">
            <p>Draw Number: <span class="text-pink-300 font-bold">Seven</span></p>
        </div>
        
        <div class="flex flex-col items-center gap-4">
            <canvas id="drawingCanvas" 
                    class="border-4 border-green-500 rounded-lg bg-white cursor-crosshair shadow-md" 
                    width="400" 
                    height="400" >
            </canvas>
            
            <div class="flex gap-4">
                <button id="clearBtn" class="px-6 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors">
                    Clear
                </button>
                <button id="submitBtn" class="px-6 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors">
                    Submit
                </button>
            </div>
        </div>
    </div>
</div>

<script>
    const canvas = document.getElementById('drawingCanvas');
    const ctx = canvas.getContext('2d');
    let isDrawing = false;
    
    // Set canvas size based on screen width
    function setCanvasSize() {
        if (window.innerWidth < 768) {
            // Mobile/medium screens
            canvas.width = 300;
            canvas.height = 300;
        } else {
            // Desktop screens
            canvas.width = 400;
            canvas.height = 400;
        }
        // Reset canvas context after resize
        ctx.lineWidth = 8;
        ctx.lineCap = 'round';
        ctx.strokeStyle = '#10b981';
    }
    
    // Set initial size
    setCanvasSize();
    
    // Update size on window resize
    window.addEventListener('resize', setCanvasSize);
    
    ctx.lineWidth = 8;
    ctx.lineCap = 'round';
    ctx.strokeStyle = '#10b981';
    
    canvas.addEventListener('mousedown', (e) => {
        isDrawing = true;
        ctx.beginPath();
        ctx.moveTo(e.offsetX, e.offsetY);
    });
    
    canvas.addEventListener('mousemove', (e) => {
        if (isDrawing) {
            ctx.lineTo(e.offsetX, e.offsetY);
            ctx.stroke();
        }
    });
    
    canvas.addEventListener('mouseup', () => {
        isDrawing = false;
    });
    
    canvas.addEventListener('mouseleave', () => {
        isDrawing = false;
    });
    
    document.getElementById('clearBtn').addEventListener('click', () => {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
    });
    
    document.getElementById('submitBtn').addEventListener('click', () => {
        // Add submit logic here
        alert('Drawing submitted!');
    });
</script>

{% endblock hero %}
